:root {
    /* Soft Romantic Palette */
    --blush-pink: #f8c8dc;
    --soft-rose: #f4a6b8;
    --coral-rose: #ff8b94;
    --champagne: #f7e7ce;
    --cream-white: #fffaf5;
    --light-peach: #ffd9c0;
    --muted-sage: #c8d5b9;
    --forest-green: #6b9566;
    --soft-gold: #e6c97a;
    --rose-shadow: rgba(244, 166, 184, 0.25);
    --soft-shadow: rgba(0, 0, 0, 0.08);
    
    /* Typography */
    --font-display: 'Cormorant Garamond', serif;
    --font-body: 'Crimson Text', serif;
    --font-accent: 'Lora', serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-body);
    overflow-x: hidden;
    min-height: 100vh;
    position: relative;
    color: #4a4a4a;
}

/* Background Gradient */
.background-gradient {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, 
        var(--cream-white) 0%, 
        var(--light-peach) 25%,
        var(--champagne) 50%,
        var(--blush-pink) 75%,
        #fde4e8 100%
    );
    z-index: -3;
}

/* Particles */
.particles-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    pointer-events: none;
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle, var(--soft-rose) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    animation: particleFloat 8s ease-in-out infinite;
}

@keyframes particleFloat {
    0%, 100% {
        opacity: 0;
        transform: translateY(0) translateX(0);
    }
    10% {
        opacity: 0.6;
    }
    50% {
        opacity: 0.3;
    }
    90% {
        opacity: 0;
    }
    100% {
        transform: translateY(-100vh) translateX(20px);
    }
}

/* Floating Hearts */
.floating-hearts {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}

.floating-heart {
    position: absolute;
    font-size: 1.5rem;
    opacity: 0;
    animation: heartFloat 12s ease-in-out infinite;
    color: var(--soft-rose);
    filter: blur(0.5px);
}

@keyframes heartFloat {
    0%, 100% {
        opacity: 0;
        transform: translateY(0) rotate(0deg) scale(0.8);
    }
    10% {
        opacity: 0.15;
    }
    50% {
        opacity: 0.08;
        transform: translateY(-50vh) rotate(180deg) scale(1);
    }
    90% {
        opacity: 0;
    }
    100% {
        transform: translateY(-100vh) rotate(360deg) scale(0.6);
    }
}

/* Main Container */
.container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem 1rem;
    position: relative;
    gap: 2rem;
}

/* ========================================
   SINGLE ROSE
   ======================================== */

.bouquet-main-section {
    width: 100%;
    max-width: 400px;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: bouquetAppear 1s ease-out forwards;
    position: relative;
    z-index: 5;
    margin: 0 auto;
}

@keyframes bouquetAppear {
    0% {
        opacity: 0;
        transform: translateY(-20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.rose-container {
    position: relative;
    width: clamp(200px, 60vw, 280px);
    height: clamp(400px, 90vw, 550px);
    animation: gentleSway 5s ease-in-out infinite;
}

@keyframes gentleSway {
    0%, 100% {
        transform: rotate(-0.5deg);
    }
    50% {
        transform: rotate(0.5deg);
    }
}

@keyframes fadeInChar {
    0% {
        opacity: 0;
        transform: translateY(5px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Rose Flower */
.rose {
    position: absolute;
    top: 8%;
    left: 50%;
    transform: translateX(-50%);
    width: clamp(120px, 30vw, 160px);
    height: clamp(120px, 30vw, 160px);
    z-index: 5;
}

.rose-petal {
    position: absolute;
    border-radius: 50% 50% 50% 0;
    background: linear-gradient(135deg, 
        #ff1744 0%,
        #ff4569 40%,
        #ff6b8a 100%
    );
    box-shadow: 
        0 2px 8px rgba(255, 23, 68, 0.3),
        inset -2px -2px 4px rgba(200, 0, 30, 0.2);
}

/* Outer petals - larger, more spread out */
.petal-1 {
    width: 45%;
    height: 45%;
    top: 10%;
    left: 25%;
    transform: rotate(-45deg);
    z-index: 1;
}

.petal-2 {
    width: 45%;
    height: 45%;
    top: 25%;
    right: 10%;
    transform: rotate(25deg);
    z-index: 1;
}

.petal-3 {
    width: 45%;
    height: 45%;
    bottom: 15%;
    right: 20%;
    transform: rotate(90deg);
    z-index: 1;
}

.petal-4 {
    width: 45%;
    height: 45%;
    bottom: 10%;
    left: 25%;
    transform: rotate(180deg);
    z-index: 1;
}

.petal-5 {
    width: 45%;
    height: 45%;
    top: 20%;
    left: 5%;
    transform: rotate(-90deg);
    z-index: 1;
}

/* Middle petals - medium size */
.petal-6 {
    width: 38%;
    height: 38%;
    top: 20%;
    left: 30%;
    transform: rotate(-20deg);
    z-index: 2;
}

.petal-7 {
    width: 38%;
    height: 38%;
    top: 35%;
    right: 20%;
    transform: rotate(45deg);
    z-index: 2;
}

.petal-8 {
    width: 38%;
    height: 38%;
    bottom: 25%;
    left: 30%;
    transform: rotate(160deg);
    z-index: 2;
}

/* Inner petals - smaller, tighter */
.petal-9 {
    width: 32%;
    height: 32%;
    top: 30%;
    left: 35%;
    transform: rotate(10deg);
    z-index: 3;
}

.petal-10 {
    width: 32%;
    height: 32%;
    top: 40%;
    right: 30%;
    transform: rotate(70deg);
    z-index: 3;
}

.petal-11 {
    width: 32%;
    height: 32%;
    bottom: 30%;
    left: 35%;
    transform: rotate(130deg);
    z-index: 3;
}

/* Rose center bud */
.rose-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20%;
    height: 20%;
    background: radial-gradient(circle,
        #cc0000 0%,
        #ff1744 50%,
        #ff6b8a 100%
    );
    border-radius: 50%;
    z-index: 4;
    box-shadow: 
        inset 0 2px 4px rgba(0, 0, 0, 0.3),
        0 0 8px rgba(255, 23, 68, 0.4);
}

/* Rose Leaves */
.rose-leaves {
    position: absolute;
    top: 30%;
    left: 0;
    width: 100%;
    height: 35%;
    z-index: 4;
}

.rose-leaf {
    position: absolute;
    width: clamp(35px, 9vw, 50px);
    height: clamp(60px, 15vw, 85px);
    /* Rose leaf shape - oval with pointed tip and serrated edges */
    background: linear-gradient(135deg,
        #2d5016 0%,
        #3d6b1f 25%,
        #4a7a28 50%,
        #3d6b1f 75%,
        #2d5016 100%
    );
    /* Create proper rose leaf shape: oval base, pointed tip, serrated edges */
    clip-path: polygon(
        /* Top pointed tip */
        50% 0%,
        /* Right side with serrations */
        55% 8%,
        60% 15%,
        58% 22%,
        62% 28%,
        65% 35%,
        63% 42%,
        68% 48%,
        70% 55%,
        68% 62%,
        65% 68%,
        62% 75%,
        58% 82%,
        55% 88%,
        52% 95%,
        /* Bottom base (attached to stem) */
        50% 100%,
        /* Left side with serrations */
        48% 95%,
        45% 88%,
        42% 82%,
        38% 75%,
        35% 68%,
        32% 62%,
        30% 55%,
        32% 48%,
        37% 42%,
        35% 35%,
        38% 28%,
        42% 22%,
        40% 15%,
        45% 8%
    );
    box-shadow: 
        inset -1px 1px 3px rgba(0, 0, 0, 0.25),
        0 2px 5px rgba(0, 0, 0, 0.15);
}

/* Leaf central vein */
.rose-leaf::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 100%;
    background: linear-gradient(to bottom,
        rgba(255, 255, 255, 0.5) 0%,
        rgba(255, 255, 255, 0.3) 30%,
        rgba(255, 255, 255, 0.2) 60%,
        transparent 100%
    );
    border-radius: 1px;
    z-index: 1;
}

/* Side veins pattern */
.rose-leaf::after {
    content: '';
    position: absolute;
    top: 15%;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 70%;
    background: 
        linear-gradient(45deg, transparent 48%, rgba(255, 255, 255, 0.2) 49%, rgba(255, 255, 255, 0.2) 51%, transparent 52%),
        linear-gradient(-45deg, transparent 48%, rgba(255, 255, 255, 0.2) 49%, rgba(255, 255, 255, 0.2) 51%, transparent 52%);
    opacity: 0.6;
    z-index: 1;
}

/* Position leaves attached to the stem - closer and lower */
.leaf-1 {
    left: 50%;
    top: 10%;
    transform: translateX(-50%) rotate(-20deg);
    transform-origin: 50% 100%;
}

.leaf-2 {
    left: 50%;
    top: 20%;
    transform: translateX(-50%) rotate(20deg);
    transform-origin: 50% 100%;
}

/* ========================================
   POLKA DOT WRAPPING (Like Reference!)
   ======================================== */

.polka-wrap {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 72%;
    height: 56%;
    z-index: 2;
}

/* Light beige/cream cone base */
.wrap-base {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 100%;
    /* light beige paper background matching image */
    background: linear-gradient(to bottom,
        #f5f0e8 0%,
        #f0e8dc 50%,
        #ebe0d0 100%
    );
    clip-path: polygon(18% 0%, 82% 0%, 100% 100%, 0% 100%);
    box-shadow: 
        inset 0 2px 8px rgba(0, 0, 0, 0.04),
        0 6px 18px rgba(0, 0, 0, 0.08);
}

/* Polka dots container */
.polka-dots {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 100%;
    clip-path: polygon(18% 0%, 82% 0%, 100% 100%, 0% 100%);
    z-index: 1;
}

/* Individual polka dots - coral pink */
.dot {
    position: absolute;
    left: var(--x, 50%);
    bottom: var(--y, 50%);
    transform: translateX(-50%);
    width: clamp(10px, 2.6vw, 16px);
    height: clamp(10px, 2.6vw, 16px);
    /* coral pink dots to match image */
    background: radial-gradient(circle,
        #ff8b94 0%,
        #ff7a85 100%
    );
    border-radius: 50%;
    opacity: 0.9;
    box-shadow: 0 1px 0 rgba(0,0,0,0.08) inset;
}

/* ========================================
   SIMPLE RIBBON BOW
   ======================================== */

.simple-ribbon {
    position: absolute;
    bottom: 48%;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    z-index: 10;
}

.ribbon-bow-simple {
    position: relative;
    width: clamp(40px, 9vw, 55px);
    height: clamp(35px, 8vw, 48px);
    margin: 0 auto;
}

/* Bow loops - dark blue */
.bow-loop-simple {
    position: absolute;
    width: 65%;
    height: 70%;
    /* dark blue bow to match image */
    background: radial-gradient(ellipse at 30% 30%,
        #1a1a3a 0%,
        #0d0d1f 60%,
        #000000 100%
    );
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

.bow-left {
    top: 8%;
    left: -15%;
    transform: rotate(-25deg);
}

.bow-right {
    top: 8%;
    right: -15%;
    transform: rotate(25deg);
}

/* Bow center knot - dark blue */
.bow-knot-simple {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 35%;
    height: 45%;
    /* dark blue knot to match image */
    background: linear-gradient(135deg,
        #1a1a3a 0%,
        #0d0d1f 100%
    );
    border-radius: 20%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    z-index: 3;
}

/* Ribbon tails */
.ribbon-tails {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: clamp(35px, 8vw, 50px);
}

.ribbon-tail {
    position: absolute;
    width: 22%;
    height: 100%;
    /* dark blue ribbon tails to match image */
    background: linear-gradient(to bottom,
        #1a1a3a 0%,
        #0d0d1f 100%
    );
    clip-path: polygon(50% 0%, 20% 0%, 45% 100%);
}

.tail-left {
    left: 30%;
    transform: rotate(-12deg);
}

.tail-right {
    right: 30%;
    transform: rotate(12deg);
}

/* ========================================
   ROSE STEM
   ======================================== */

.rose-stem {
    position: absolute;
    top: 30%;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    background: linear-gradient(to bottom,
        #2d5016 0%,
        #3d6b1f 20%,
        #2d5016 50%,
        #3d6b1f 70%,
        #1f3a0f 100%
    );
    border-radius: 3px;
    z-index: 1;
    box-shadow: 
        inset -2px 0 2px rgba(0, 0, 0, 0.3),
        0 2px 4px rgba(0, 0, 0, 0.1);
}

.rose-stem::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 8px;
    height: 8px;
    background: #2d5016;
    border-radius: 50% 50% 0 0;
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */

@media (max-width: 768px) {
    .rose-container {
        width: clamp(180px, 65vw, 240px);
        height: clamp(360px, 95vw, 480px);
    }
}

@media (max-width: 480px) {
    .rose-container {
        width: clamp(160px, 70vw, 220px);
        height: clamp(320px, 100vw, 420px);
    }
}

/* ========================================
   ENVELOPE SECTION
   ======================================== */

.envelope-section {
    width: 100%;
    max-width: 350px;
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 4;
    animation: envelopeFloat 4s ease-in-out infinite;
}

@keyframes envelopeFloat {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-12px);
    }
}

.envelope {
    width: 100%;
    max-width: 280px;
    height: 180px;
    position: relative;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.envelope:hover {
    transform: scale(1.05);
}

.envelope-body {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--champagne) 0%, #f9ead5 100%);
    border-radius: 8px;
    box-shadow: 0 10px 40px var(--rose-shadow),
                0 4px 12px var(--soft-shadow);
    position: relative;
    overflow: hidden;
}

.envelope-body::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px);
    pointer-events: none;
}

.envelope-flap {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background: linear-gradient(135deg, #f5ddc4 0%, var(--champagne) 100%);
    clip-path: polygon(0 0, 50% 60%, 100% 0);
    transform-origin: top center;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: inset 0 -2px 8px rgba(0,0,0,0.05);
    z-index: 2;
}

.envelope-flap::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
}

.envelope.open .envelope-flap {
    transform: rotateX(180deg);
}

.envelope-seal {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
    filter: drop-shadow(0 2px 4px rgba(244, 166, 184, 0.3));
    transition: opacity 0.5s ease;
}

.envelope.open .envelope-seal {
    opacity: 0;
}

.envelope-hint {
    position: absolute;
    bottom: -35px;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--font-accent);
    font-size: 0.9rem;
    color: var(--soft-rose);
    opacity: 0.7;
    animation: hintPulse 2s ease-in-out infinite;
    white-space: nowrap;
}

@keyframes hintPulse {
    0%, 100% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
}

/* ========================================
   LETTER CONTAINER
   ======================================== */

.letter-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease;
    z-index: 100;
}

.letter-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 250, 245, 0.92);
    backdrop-filter: blur(12px);
    z-index: -1;
}

.letter-container.visible {
    opacity: 1;
    pointer-events: all;
}

.letter {
    max-width: 600px;
    width: 100%;
    background: linear-gradient(135deg, #fffcf9 0%, var(--cream-white) 100%);
    padding: 3rem 2.5rem;
    border-radius: 12px;
    box-shadow: 
        0 20px 60px rgba(244, 166, 184, 0.15),
        0 8px 20px var(--soft-shadow);
    transform: translateY(30px);
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    /* allow internal scrolling when content is tall */
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.letter::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 24px,
        rgba(244, 166, 184, 0.03) 24px,
        rgba(244, 166, 184, 0.03) 25px
    );
    pointer-events: none;
}

.letter-container.visible .letter {
    transform: translateY(0);
    opacity: 1;
}

.letter-header {
    text-align: center;
    margin-bottom: 2rem;
    border-bottom: 1px solid rgba(244, 166, 184, 0.2);
    padding-bottom: 1.5rem;
}

.letter-title {
    font-family: var(--font-display);
    font-size: 2.5rem;
    font-weight: 400;
    font-style: italic;
    color: var(--soft-rose);
    margin-bottom: 0.5rem;
    letter-spacing: 0.5px;
}

.letter-date {
    font-family: var(--font-accent);
    font-size: 0.95rem;
    color: #8a8a8a;
    font-style: italic;
}

.letter-content {
    margin-bottom: 2rem;
    line-height: 1.8;
}

.letter-text {
    font-family: var(--font-body);
    font-size: 1.1rem;
    color: #4a4a4a;
    white-space: pre-line;
}

.letter-signature {
    text-align: left;
    font-family: var(--font-accent);
    font-size: 1rem;
    color: #6a6a6a;
    font-style: italic;
    margin-top: 2rem;
}

.signature-name {
    font-family: var(--font-display);
    font-size: 1.5rem;
    color: var(--soft-rose);
    margin-top: 0.5rem;
    font-weight: 500;
}

/* Sparkles */
.sparkles-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 200;
}

.sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle, var(--soft-gold) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    animation: sparkleAppear 2s ease-out forwards;
}

@keyframes sparkleAppear {
    0% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
    }
    50% {
        opacity: 1;
        transform: scale(1.5) rotate(180deg);
    }
    100% {
        opacity: 0;
        transform: scale(0) rotate(360deg);
    }
}

/* Audio Toggle */
.audio-toggle {
    position: fixed;
    bottom: 2rem;
    left: 2rem;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 2px solid var(--soft-rose);
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px var(--rose-shadow);
    z-index: 1000;
}

.audio-toggle:hover {
    transform: scale(1.1);
    background: var(--blush-pink);
    border-color: var(--soft-rose);
}

.audio-toggle:hover .audio-icon {
    color: white;
}

.audio-icon {
    color: var(--soft-rose);
    transition: color 0.3s ease;
}

.audio-toggle.playing {
    background: var(--soft-rose);
    border-color: var(--soft-rose);
}

.audio-toggle.playing .audio-icon {
    color: white;
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 768px) {
    .container {
        padding: 1.5rem 1rem;
        gap: 2rem;
    }

    .rose-container {
        width: clamp(180px, 70vw, 240px);
        height: clamp(360px, 90vw, 450px);
    }

    .envelope {
        max-width: 240px;
        height: 150px;
    }

    .letter {
        padding: 2rem 1.5rem;
    }

    .letter-title {
        font-size: 2rem;
    }

    .letter-text {
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 1rem;
        gap: 1.5rem;
    }

    .rose-container {
        width: clamp(160px, 75vw, 200px);
        height: clamp(320px, 95vw, 380px);
    }

    .envelope {
        max-width: 200px;
        height: 130px;
    }

    .letter {
        padding: 1.5rem 1.25rem;
    }

    .letter-title {
        font-size: 1.75rem;
    }

    .letter-text {
        font-size: 0.95rem;
        line-height: 1.7;
    }
}

@media (max-height: 700px) and (orientation: landscape) {
    .rose-container {
        width: clamp(150px, 25vw, 200px);
        height: clamp(300px, 35vw, 400px);
    }

    .container {
        flex-direction: row;
        align-items: center;
        gap: 1.5rem;
    }

    .letter {
        max-height: 75vh;
        overflow-y: auto;
        padding: 1.5rem;
    }
}

/* Print Styles */
@media print {
    .background-gradient,
    .particles-container,
    .floating-hearts,
    .bouquet-main-section,
    .envelope-section,
    .sparkles-container,
    .audio-toggle {
        display: none !important;
    }

    .letter-container {
        position: relative;
        opacity: 1 !important;
    }

    .letter {
        box-shadow: none;
        transform: none !important;
        opacity: 1 !important;
    }
}